# ManSPy
Management System (universal and interactive)  

# Техническая информация

- Python 2.7.11. Пишу на ОС Windows, но может запуститься и на Linux (случайно запустил на ОС Raspbian)  
- Начало написания: 27.04.2014 год - от примитивного бота к настоящим результатам.  
- Вода, нытьё и сомнения первых месяцев в статье на хабре от 07.08.2014- http://habrahabr.ru/post/232263/  
- Подробно об алгоритмах, планах, возможностях текущей реализации: http://just-idea.ru (запущен в конце января 2015-го)
- Новое описание пока только здесь: https://github.com/Ra93POL/ManSPy/wiki ( наиболее полный источник, хотя перенесена с сайта и локального диска ещё не вся информация)

Используемые библиотеки:   
- lxml - для парсинга страниц при авторизации во "ВКонтакте" и для парсинга страниц с курсами валют от ЦБ. (для ОС Windows: http://www.lfd.uci.edu/~gohlke/pythonlibs/)  
- cssselect - может проситься модулем lxml (https://codeload.github.com/SimonSapin/cssselect/zip/master, https://github.com/SimonSapin/cssselect/)
- xmpp - реализация протокола для jabber (http://xmpppy.sourceforge.net/, http://sourceforge.net/projects/xmpppy/files/, https://raw.githubusercontent.com/freebsd/freebsd-ports/master/net-im/py-xmpppy/files/patch-xmpp-transports.py - информация об исправлении ошибки в модуле)
- https://pypi.python.org/pypi/eonums/0.9.0 - пока не используется.
- repper и идущие после него модули — файлы из личного репозитория. https://github.com/Ra93POL/repository_personal. можно покласть их в любую папку, отдельно от программы. Для доступности этих модулей необходимо запустить файл repper_install.py из личного репозитория - он скопирует файл repper.py в основной репозиторий Питона. Repper.py импортируется только для того, чтобы добавить путь к личному репозиторию в переменную sys.path. 

При запуске программы появится папка "DATA_BASE" - в ней можно найти историю переписки отдельно для каждого интерфейса, результаты морфологического, постморфологического и синтаксического анализов, а также базу данных.

Структура директорий:
```
DATA_BASE/              # База данных, создаётся при запуске программы
    Esperanto/
ПроизвольноеИмяПапки/
    ПапкиИзРепозитория/
    ФайлыИзРепозитория
IFM_passwords.txt       # Здесь хранятся Ваши пароли для ВКонтакте, Jabber
```
 Пример содержимого файла IFM_passwords.txt:
```
service: jabber
login: ИмяПользователя@Сервер
pass: Пароль

service: vkcom
app_id: ИдентификаторПриложения
login: ТелефонИлиЭлАдрес
pass: Пароль
```

# Общее описание

Универсальная и интерактивная система управления. Универсальность заключается в возможности подключения любых систем: умный дом, персональный компьютер, социальные сети, роботы, аэропоника, производство и прочее. Интерактивность - в том, что программа сама будет задавать уточняющие вопросы, а также оповещать о происходящем (критическое повышение температур или цен, проникновение в жилище, угон автомобиля, день рождения у подруги, отсутствие сырья для производства). Интерактивность пока не реализована.

Любая внешняя система подключается к моей программе путём написания модулей действий, предоставляющих соответствующее API для управления. После чего в модуле прописывается переменная с ФАСИФОМ - Форматом Ассоциировния Слов И Функций. В ФАСИФе указывается естественный язык, пример-предложение, слова-аргументы, которые будут переданы в функцию напрямую или через конвертирование, а также указываются вышестоящие абстрактные группы (гиперонимы) для слов-аргументов. В функцию передаётся в обязательном порядке первый аргумент, являющийся словарём (ассоциативным массивом). В первом аргументе пока только содержится информация о том, вызвана ли данная функция через глагол-антоним или нет, чтобы в одной функции реализовать два противоположных действия (например, включение или выключения света).

Программа может получать команды из различных модулей интерфейсов: локального текстового чата (на TKinter'е), jabber'а, социальной сети "ВКонтакте", в котором я что-то сломал, автоподатчика. Программа ответит в тот интерфейс, из которого примет сообщения. Автоподатчик служит для автоматической подачи самых каверзных сообщений из файла с целью тестирования программы.

Язык взаимодействия с программой - Эсперанто. В будущем планируется добавление кечуа (из-за разнообразия морфем и строгости порядка слов в предложении), пирахан (чтобы показать, что возможности программы зависят от возможностей языка, так как в пирахан остутствуют числительные - только мало или много), английский (намного сложней из-за исключений), русский (вообще жесть). Интересны также иероглифы и языки жестов (которые образные, а не имитаторы звуковых языков). Также не менее интересно использование интерфейса мозг-компьютер, но в этой области у меня мало знаний, да и рано его использовать.

Программа может работать пока лишь с текстом из предложений, разделённых точкой. Из союзов подерживается лишь "kaj" с ошибками. Прямой порядок слов (подлежащее, сказуемое, прямое дополнение, косвенные дополнения), хотя язык, благодаря винительному падежу, позволяет нарушать порядок. Программа пока реагирует на команды - глаголы с повелительным (императивным) наклонением, остальные глаголы игнорируются.

**В программе много жуков и мух - берегите нервы или запасайтесь тапками для их ловли. Угава! Ахтунг!: быдлокод и возможная ересь!**
